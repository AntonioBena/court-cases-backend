FROM eclipse-temurin:23-jdk AS build
WORKDIR /app

RUN apt-get update && apt-get install -y gradle

COPY . .
RUN gradle clean build -x test

EXPOSE 8080
CMD ["java", "-jar", "build/libs/*.jar"]